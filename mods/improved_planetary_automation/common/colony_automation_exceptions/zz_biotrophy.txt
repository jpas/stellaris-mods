automate_biotrophy_management_servitor_ecu = {
	category = "planet_automation_biotrophy_management"
	emergency = yes
	available = { always = no }
}

automate_biotrophy_management_servitor_hab = {
	category = "planet_automation_biotrophy_management"
	emergency = yes
	available = { always = no }
}

automate_biotrophy_management_servitor_districts = {
	category = "planet_automation_biotrophy_management"
	emergency = yes

	available = {
		owner = {
			has_authority = auth_machine_intelligence
			has_valid_civic = civic_machine_servitor
		}

		OR = {
			uses_district_set = city_world
			uses_district_set = habitat
		}
		free_district_slots > 0

		any_owned_pop = {
			is_unemployed = yes
			has_citizenship_type = { type = citizenship_organic_trophy }
		}
	}

	prio_districts = {
		district_arcology_organic_housing
	}
}

automate_biotrophy_management_servitor = {
	category = "planet_automation_biotrophy_management"
	emergency = yes

	available = {
		owner = {
			has_authority = auth_machine_intelligence
			has_valid_civic = civic_machine_servitor
		}
	}

	job_changes = {
		increase = {
			job = bio_trophy
			amount = 1
			available = {
				has_forbidden_jobs = bio_trophy
				any_owned_pop = {
					is_unemployed = yes
				}
			}
		}

		decrease = {
			job = bio_trophy
			amount = -1
			available = {
				has_available_jobs = bio_trophy
			}
		}
	}

	buildings = {
		first_sanctuary = {
			building = building_organic_sanctuary
			available = {
				NOR = {
					uses_district_set = city_world
					uses_district_set = habitat
				}
				num_buildings = { type = building_organic_sanctuary value = 0 }
				num_buildings = { type = building_organic_paradise value = 0 }
			}
		}

		sanctuary = {
			building = building_organic_sanctuary
			available = {
				NOR = {
					uses_district_set = city_world
					uses_district_set = habitat
				}
				NOT = { has_available_jobs = bio_trophy }
				NOT = { has_forbidden_jobs = bio_trophy }
			}

			upgrade_trigger = {
				NOR = {
					uses_district_set = city_world
					uses_district_set = habitat
				}
				NOT = { has_available_jobs = bio_trophy }
				NOT = { has_forbidden_jobs = bio_trophy }
			}
		}
	}
}
